C51 COMPILER V9.54   MOTOR                                                                 09/19/2025 21:25:00 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MOTOR
OBJECT MODULE PLACED IN .\Objects\motor.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE Hardware\motor.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\System;.\src;.\Hardware
                    -) DEBUG OBJECTEXTEND PRINT(.\Listings\motor.lst) OBJECT(.\Objects\motor.obj)

line level    source

   1          #include <AT89X52.H>     //包含52头文件
   2          #include <Boebot.h>
   3          
   4          sbit right_moter=P1^0;//定义右电机端口
   5          sbit left_moter =P1^1;//定义左电机端口
   6          
   7          void stop(void)//停止
   8          {
   9   1              right_moter=1;
  10   1              delay_nus(1500);
  11   1              right_moter=0;
  12   1      
  13   1              left_moter=1;
  14   1              delay_nus(1500);
  15   1              left_moter=0;
  16   1              
  17   1              delay_nms(20);
  18   1      }
  19                  
  20          void Fast_forward(unsigned char a)      //快速前进
  21          {
  22   1              unsigned char i;
  23   1              for(i=0;i<a;i++)                   
  24   1              {
  25   2                      right_moter=1;
  26   2                      delay_nus(1439);
  27   2                      right_moter=0;
  28   2      
  29   2                      left_moter=1;
  30   2                      delay_nus(1561);
  31   2                      left_moter=0;
  32   2      
  33   2                      delay_nms(20);
  34   2              }
  35   1      }
  36          
  37          void Forward(unsigned int left,unsigned int right,unsigned char a)      //自定义前进
  38          {
  39   1              unsigned char i;
  40   1              for(i=0;i<a;i++)                   
  41   1              {
  42   2                      right_moter=1;
  43   2                      delay_nus(right);
  44   2                      right_moter=0;
  45   2      
  46   2                      left_moter=1;
  47   2                      delay_nus(left);
  48   2                      left_moter=0;
  49   2      
  50   2                      delay_nms(20);
  51   2              }
  52   1      }
  53                  
  54          void back(unsigned char a)//后退
C51 COMPILER V9.54   MOTOR                                                                 09/19/2025 21:25:00 PAGE 2   

  55          {       
  56   1              unsigned char i;
  57   1              for(i=0;i<a;i++)                   
  58   1              {
  59   2                      right_moter=1;
  60   2                      delay_nus(1580);
  61   2                      right_moter=0;
  62   2      
  63   2                      left_moter=1;
  64   2                      delay_nus(1420);
  65   2                      left_moter=0;
  66   2      
  67   2                      delay_nms(20);
  68   2              }
  69   1      }
  70          
  71          /* 输入秒数， 左 右*/
  72          void turn(unsigned int left,unsigned int right) //微转动          
  73          {
  74   1              unsigned char i;
  75   1              for(i=0;i<2;i++)
  76   1              {
  77   2                      right_moter=1;
  78   2                      delay_nus(right);
  79   2                      right_moter=0;
  80   2              
  81   2                      left_moter=1;
  82   2                      delay_nus(left);
  83   2                      left_moter=0;
  84   2              
  85   2                      delay_nms(20);
  86   2              }
  87   1      }
  88          
  89          void turn_left_150(void)                   //左转150度 
  90          {
  91   1              unsigned char i;
  92   1              for(i=0;i<100;i++)                 
  93   1              {
  94   2                      right_moter=1;
  95   2                      delay_nus(1450);
  96   2                      right_moter=0;
  97   2      
  98   2                      left_moter=1;
  99   2                      delay_nus(1450);
 100   2                      left_moter=0;
 101   2      
 102   2                      delay_nms(20);
 103   2              }
 104   1      }
 105          
 106          void turn_left_90(void)
 107          {
 108   1              unsigned char i;
 109   1              for(i=0;i<24;i++)                  //左转90度
 110   1              {
 111   2                      right_moter=1;
 112   2                      delay_nus(1400);
 113   2                      right_moter=0;
 114   2      
 115   2                      left_moter=1;
 116   2                      delay_nus(1400);
C51 COMPILER V9.54   MOTOR                                                                 09/19/2025 21:25:00 PAGE 3   

 117   2                      left_moter=0;
 118   2      
 119   2                      delay_nms(20);
 120   2              }
 121   1      }
 122          
 123          void turn_left_45(void)            //左转45度 
 124          {
 125   1              unsigned char i;
 126   1              for(i=0;i<15;i++)                  
 127   1              {
 128   2                      right_moter=1;
 129   2                      delay_nus(1400);
 130   2                      right_moter=0;
 131   2      
 132   2                      left_moter=1;
 133   2                      delay_nus(1400);
 134   2                      left_moter=0;
 135   2      
 136   2                      delay_nms(20);
 137   2              }
 138   1      }
 139          
 140          void turn_left_120(void)                   //左转120度 
 141          {
 142   1              unsigned char i;
 143   1              for(i=0;i<180;i++)                 
 144   1              {
 145   2                      right_moter=1;
 146   2                      delay_nus(1480);
 147   2                      right_moter=0;
 148   2      
 149   2                      left_moter=1;
 150   2                      delay_nus(1480);
 151   2                      left_moter=0;
 152   2      
 153   2                      delay_nms(20);
 154   2              }
 155   1      }
 156          
 157          void turn_right_150(void)
 158          {
 159   1              unsigned char i;
 160   1              for(i=0;i<70;i++)                  //右转150度
 161   1              {
 162   2                      right_moter=1;
 163   2                      delay_nus(1550);
 164   2                      right_moter=0;
 165   2      
 166   2                      left_moter=1;
 167   2                      delay_nus(1550);
 168   2                      left_moter=0;
 169   2      
 170   2                      delay_nms(20);
 171   2              }       
 172   1      }
 173          
 174          void turn_right_90(void) 
 175          {
 176   1              unsigned char i;
 177   1              for(i=0;i<26;i++)                  //右转90度
 178   1              {
C51 COMPILER V9.54   MOTOR                                                                 09/19/2025 21:25:00 PAGE 4   

 179   2                      right_moter=1;
 180   2                      delay_nus(1600);
 181   2                      right_moter=0;
 182   2      
 183   2                      left_moter=1;
 184   2                      delay_nus(1600);
 185   2                      left_moter=0;
 186   2      
 187   2                      delay_nms(20);
 188   2              }
 189   1      }
 190          
 191          void turn_right_45(void)
 192          {
 193   1              unsigned char i;
 194   1              for(i=0;i<15;i++)                  //右转45度
 195   1              {
 196   2                      right_moter=1;
 197   2                      delay_nus(1600);
 198   2                      right_moter=0;
 199   2      
 200   2                      left_moter=1;
 201   2                      delay_nus(1600);
 202   2                      left_moter=0;
 203   2      
 204   2                      delay_nms(20);
 205   2              }       
 206   1      }
 207          
 208          void turn_right_120(void)
 209          {
 210   1              unsigned char i;
 211   1              for(i=0;i<180;i++)                 //右转120度
 212   1              {
 213   2                      right_moter=1;
 214   2                      delay_nus(1520);
 215   2                      right_moter=0;
 216   2      
 217   2                      left_moter=1;
 218   2                      delay_nus(1520);
 219   2                      left_moter=0;
 220   2      
 221   2                      delay_nms(20);
 222   2              }       
 223   1      }
 224          
 225          void fast_turn_right_90(void)
 226          {
 227   1              unsigned char i;
 228   1              for(i=0;i<26;i++)                  //右转90度
 229   1              {
 230   2                      right_moter=1;
 231   2                      delay_nus(1600);
 232   2                      right_moter=0;
 233   2      
 234   2                      left_moter=1;
 235   2                      delay_nus(1600);
 236   2                      left_moter=0;
 237   2      
 238   2                      delay_nms(20);
 239   2              }
 240   1      }
C51 COMPILER V9.54   MOTOR                                                                 09/19/2025 21:25:00 PAGE 5   

 241          
 242          /* 输入秒数， 左 右*/
 243          void turn_r(unsigned int left,unsigned int right) //转动          
 244          {
 245   1              
 246   1              right_moter=1;
 247   1              delay_nus(right);
 248   1              right_moter=0;
 249   1      
 250   1              left_moter=1;
 251   1              delay_nus(left);
 252   1              left_moter=0;
 253   1      
 254   1              delay_nms(20);
 255   1      
 256   1      }
 257          
 258          void turn_back()        //后转 
 259          {
 260   1              unsigned int i;
 261   1              for(i=0;i<68;i++)                 
 262   1              {
 263   2                      right_moter=1;
 264   2                      delay_nus(1440);
 265   2                      right_moter=0;
 266   2      
 267   2                      left_moter=1;
 268   2                      delay_nus(1440);
 269   2                      left_moter=0;
 270   2      
 271   2                      delay_nms(20);
 272   2              }
 273   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    688    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      28
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
